package testing

import (
	"encoding/base64"
	"fmt"
	"github.com/zf1976/vlog"
	"qrcode-token/util/vjson"
	"testing"
)

func TestDecodeBase64(t *testing.T) {
	decodeString, err := base64.StdEncoding.DecodeString("eyJwZHNfbG9naW5fcmVzdWx0Ijp7InJvbGUiOiJ1c2VyIiwidXNlckRhdGEiOnsiRGluZ0RpbmdSb2JvdFVybCI6Imh0dHBzOi8vb2FwaS5kaW5ndGFsay5jb20vcm9ib3Qvc2VuZD9hY2Nlc3NfdG9rZW49MGI0YTkzNmQwZTk4YzA4NjA4Y2Q5OWY2OTMzOTNjMThmYTkwNWFhMDg2ODIxNTQ4NWEyODQ5NzUwMTkxNmZlYyIsIkVuY291cmFnZURlc2MiOiLE2rLixtq85NPQ0Ke3tMChx7AxMMP708O7p72ru/G1w9bVye3D4rfRu+HUsSIsIkZlZWRCYWNrU3dpdGNoIjp0cnVlLCJGb2xsb3dpbmdEZXNjIjoiMzQ4NDgzNzIiLCJiYWNrX3VwX2NvbmZpZyI6eyLK1rv6sbi33SI6eyJmb2xkZXJfaWQiOiI2MWZhMDE3NzQ5Y2Q2ODRjZGVlNDRmYTk5YjFiNTQ1YzQ2ZTlmYTdiIiwicGhvdG9fZm9sZGVyX2lkIjoiNjFmYTAxNzc5ZTdkOWE5MGEwZWE0ZmExYWMxZTcyYjMzYmNkZDM1NSIsInN1Yl9mb2xkZXIiOnt9LCJ2aWRlb19mb2xkZXJfaWQiOiI2MWZhMDE3NzZhYzU5ZDQ4Zjg4YTQ5YTliYmY1MWQyNWM1YmUzMzMxIn19LCJkaW5nX2Rpbmdfcm9ib3RfdXJsIjoiaHR0cHM6Ly9vYXBpLmRpbmd0YWxrLmNvbS9yb2JvdC9zZW5kP2FjY2Vzc190b2tlbj0wYjRhOTM2ZDBlOThjMDg2MDhjZDk5ZjY5MzM5M2MxOGZhOTA1YWEwODY4MjE1NDg1YTI4NDk3NTAxOTE2ZmVjIiwiZW5jb3VyYWdlX2Rlc2MiOiLE2rLixtq85NPQ0Ke3tMChx7AxMMP708O7p72ru/G1w9bVye3D4rfRu+HUsSIsImZlZWRfYmFja19zd2l0Y2giOnRydWUsImZvbGxvd2luZ19kZXNjIjoiMzQ4NDgzNzIifSwiaXNGaXJzdExvZ2luIjpmYWxzZSwibmVlZExpbmsiOmZhbHNlLCJsb2dpblR5cGUiOiJxckNvZGVMb2dpbiIsIm5pY2tOYW1lIjoiZGZoc3NydSIsIm5lZWRScFZlcmlmeSI6ZmFsc2UsImF2YXRhciI6Imh0dHBzOi8vY2NwLWJqMjktYmotMTU5Mjk4MjA4Ny5vc3MtY24tYmVpamluZy5hbGl5dW5jcy5jb20vcGRzJTJGYXZhdGFyJTJGODEwZTY0OTY0ODk5NGUxY2E4NDcxZTA2MDlkZDc4MDk/eC1vc3MtYWNjZXNzLWtleS1pZD1MVEFJc0U1bUFuMkY0OTNRJngtb3NzLWV4cGlyZXM9MTY0NzAwMjIzNSZ4LW9zcy1zaWduYXR1cmU9b3l2Y0dnU2tRMDI3Nm9Xa29kd21TeTYyJTJCM2hXd1JtNm82T0pnV3h1dWNFJTNEJngtb3NzLXNpZ25hdHVyZS12ZXJzaW9uPU9TUzIiLCJhY2Nlc3NUb2tlbiI6ImV5SmhiR2NpT2lKU1V6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUoxYzJWeVNXUWlPaUk0TkROa1pqTTFNelUzT1dRME5qY3dZV0k0TVRnME5qQXdOV1psWkRBM01pSXNJbU4xYzNSdmJVcHpiMjRpT2lKN1hDSmpiR2xsYm5SSlpGd2lPbHdpY0VwYVNXNU9TRTR5WkZwWGF6aHhaMXdpTEZ3aVpHOXRZV2x1U1dSY0lqcGNJbUpxTWpsY0lpeGNJbk5qYjNCbFhDSTZXMXdpUkZKSlZrVXVRVXhNWENJc1hDSkdTVXhGTGtGTVRGd2lMRndpVmtsRlZ5NUJURXhjSWl4Y0lsTklRVkpGTGtGTVRGd2lMRndpVTFSUFVrRkhSUzVCVEV4Y0lpeGNJbE5VVDFKQlIwVkdTVXhGTGt4SlUxUmNJaXhjSWxWVFJWSXVRVXhNWENJc1hDSkNRVlJEU0Z3aUxGd2lRVU5EVDFWT1ZDNUJURXhjSWl4Y0lrbE5RVWRGTGtGTVRGd2lMRndpU1U1V1NWUkZMa0ZNVEZ3aVhTeGNJbkp2YkdWY0lqcGNJblZ6WlhKY0lpeGNJbkpsWmx3aU9sd2lYQ0lzWENKa1pYWnBZMlZmYVdSY0lqcGNJakZqWVRGalpqSXpNR1V3TmpSak4yVmhZV1ZoTTJNM1kyUmpZalk1WmpBMFhDSjlJaXdpWlhod0lqb3hOalEzTURBMU9ETTFMQ0pwWVhRaU9qRTJORFk1T1RnMU56VjkucjVEaFdFZXl0TEMya3JZT25EcXVnNWsxY2ZfaFhkT3llU01XLWI5SHBzS0lhTUd5emZQbWZjZk9tbVVUS05XNURZX0JyaVg1dVhUb21JVjQ1cFhCUDVRM1FLTENUTnRqTFRxNml4cExDWUZZQ2NuaHE5a1d3REY5ZE1qaXdBVl9CY25iQXlqQkNWY01kV0VDVzdZX2piWEMwNGhObHlTRGQtdWNKQzlXY05VIiwidXNlck5hbWUiOiIxODcqKioyMTkiLCJ1c2VySWQiOiI4NDNkZjM1MzU3OWQ0NjcwYWI4MTg0NjAwNWZlZDA3MiIsImRlZmF1bHREcml2ZUlkIjoiNzg0MDU4NzEiLCJleGlzdExpbmsiOltdLCJleHBpcmVzSW4iOjcyMDAsImV4cGlyZVRpbWUiOiIyMDIyLTAzLTExVDEzOjM3OjE1WiIsInJlcXVlc3RJZCI6IkUyMTFGQUQyLUMxMDEtNDdGRC05QTc0LURBQkU3NDlEQjlFMSIsImRhdGFQaW5TZXR1cCI6ZmFsc2UsInN0YXRlIjoiIiwidG9rZW5UeXBlIjoiQmVhcmVyIiwiZGF0YVBpblNhdmVkIjpmYWxzZSwicmVmcmVzaFRva2VuIjoiMWNhMWNmMjMwZTA2NGM3ZWFhZWEzYzdjZGNiNjlmMDQiLCJzdGF0dXMiOiJlbmFibGVkIn19")
	if err != nil {
		vlog.Error(err)
		return
	}
	var m map[string]string
	err = vjson.ByteArrayConvert(decodeString, m)
	fmt.Println(m)
	fmt.Println(string(decodeString))
}
